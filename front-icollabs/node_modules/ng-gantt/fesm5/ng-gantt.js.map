{"version":3,"file":"ng-gantt.js","sources":["ng://ng-gantt/gantt/gantt.editoroptions.ts","ng://ng-gantt/gantt/gantt.component.ts","ng://ng-gantt/lib.module.ts"],"sourcesContent":["\r\nexport class GanttEditorOptions {\r\n\r\n  // public onEditable: (node: GanttEditorTreeNode | {}) => boolean | { field: boolean, value: boolean };\r\n  // public theme: Number;\r\n  // public language: String;\r\n  // public languages: Object;\r\n\r\n  constructor() {\r\n    // this.escapeUnicode = false;\r\n    // this.sortObjectKeys = false;\r\n    // this.history = true;\r\n  }\r\n}\r\n","import {\r\n  Component, ElementRef, Input, OnInit, ViewChild\r\n} from '@angular/core';\r\n// import { JSGantt } from 'jsgantt-improved';\r\nimport * as JSGantt from 'jsgantt-improved';\r\nimport { GanttEditorOptions } from './gantt.editoroptions';\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'ng-gantt',\r\n  template: '<div [id]=\"id\" #ganttEditorContainer></div>'\r\n})\r\nexport class GanttEditorComponent implements OnInit {\r\n  private editor: any;\r\n  public id = 'anggantteditor' + Math.floor(Math.random() * 1000000);\r\n  public optionsChanged = false;\r\n  public formats = ['Hour', 'Day', 'Week', 'Month', 'Quarter'];\r\n\r\n  @ViewChild('ganttEditorContainer', { static: true }) ganttEditorContainer: ElementRef;\r\n\r\n  private _data;\r\n\r\n  @Input() options: GanttEditorOptions = new GanttEditorOptions();\r\n  @Input() format = 'week';\r\n  @Input('data')\r\n  set data(value: Object) {\r\n    this._data = value;\r\n    if (this.editor) {\r\n      this.destroy();\r\n      this.ngOnInit();\r\n    }\r\n  }\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    let optionsBefore = this.options;\r\n    if (!this.optionsChanged && this.editor) {\r\n      optionsBefore = this.editor.options;\r\n    }\r\n\r\n    // document.getElementById('embedded-Gantt')\r\n    const g = this.editor = new (<any>JSGantt).GanttChart(this.ganttEditorContainer.nativeElement, this.format);\r\n\r\n    if (g.getDivId() != null) {\r\n\r\n      // JSGantt.parseJSON('./fixes/data.json', g);\r\n\r\n      g.setOptions({\r\n        vCaptionType: 'Complete',  // Set to Show Caption : None,Caption,Resource,Duration,Complete,\r\n        vQuarterColWidth: 36,\r\n        vDateTaskDisplayFormat: 'day dd month yyyy', // Shown in tool tip box\r\n        vDayMajorDateDisplayFormat: 'mon yyyy - Week ww', // Set format to display dates in the \"Major\" header of the \"Day\" view\r\n        vWeekMinorDateDisplayFormat: 'dd mon', // Set format to display dates in the \"Minor\" header of the \"Week\" view\r\n        vShowTaskInfoLink: 1, // Show link in tool tip (0/1)\r\n        vShowEndWeekDate: 0,  // Show/Hide the date for the last day of the week in header for\r\n        vUseSingleCell: 10000,\r\n        // Even with setUseSingleCell using Hour format on such a large chart can cause issues in some browsers\r\n        vFormatArr: this.formats.slice(1),\r\n        ...optionsBefore\r\n      });\r\n      if (this._data && this._data.forEach) {\r\n        this._data.forEach(row => {\r\n          row.pGantt = g;\r\n          g.AddTaskItemObject(row);\r\n        })\r\n      }\r\n      g.Draw();\r\n    }\r\n  }\r\n\r\n  // public get(): JSON {\r\n  //   return this.editor.get();\r\n  // }\r\n\r\n  public setOptions(newOptions: GanttEditorOptions) {\r\n    if (this.editor) {\r\n      this.destroy();\r\n    }\r\n    this.optionsChanged = true;\r\n    this.options = newOptions;\r\n    this.ngOnInit();\r\n  }\r\n\r\n  public destroy() {\r\n    // this.editor.destroy();\r\n  }\r\n\r\n  public getEditor(){\r\n    return this.editor;\r\n  }\r\n\r\n}\r\n\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { GanttEditorComponent } from './gantt/gantt.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    GanttEditorComponent\r\n  ],\r\n  exports: [\r\n    GanttEditorComponent\r\n  ]\r\n})\r\nexport class NgGanttEditorModule {\r\n\r\n  public static forRoot(): ModuleWithProviders {\r\n\r\n    return {\r\n      ngModule: NgGanttEditorModule,\r\n      providers: [\r\n      ]\r\n    };\r\n  }\r\n}\r\n"],"names":["JSGantt.GanttChart","tslib_1.__decorate"],"mappings":"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"}